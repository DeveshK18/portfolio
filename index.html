<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Devesh K</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400&display=swap');

    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --lh: 18px;
      --col: 16ch;
      --gap: 2ch;
      --fg:     #e8e8e8;
      --fg-dim: #666;
      --fg-mid: #888;
      --bg: #000;
    }

    html, body {
      background: var(--bg);
      color: var(--fg);
      font-family: 'IBM Plex Mono', 'Courier New', monospace;
      font-size: 13px;
      font-weight: 400;
      line-height: var(--lh);
    }

    a { color: var(--fg); text-decoration: none; }
    a:hover { color: #fff; }

    /* ── content grid ─────────────────────── */
    main {
      display: grid;
      grid-template-columns: var(--col) calc(var(--col) * 2 + var(--gap)) var(--col) var(--col) var(--col) var(--col);
      grid-gap: var(--gap);
      padding: var(--lh) var(--gap);
      max-width: 100vw;
    }

    main > div {
      border-left: 1px dashed #333;
      padding-left: 1ch;
    }
    main > div:first-child { border-left: none; padding-left: 0; }

    .label { color: var(--fg-dim); display: block; margin-bottom: var(--lh); }
    .item  { margin-bottom: var(--lh); }
    .item-name { display: block; color: var(--fg); }
    .item-sub  { display: block; color: var(--fg-mid); }

    #col-name { border-left: none; padding-left: 0; }
    .name-big { display: block; margin-bottom: var(--lh); color: #fff; font-weight: 400; }
    .age { color: var(--fg-dim); font-weight: 300; }

    #col-bio p { margin-bottom: var(--lh); color: var(--fg-mid); }
    #col-bio p span { color: var(--fg); }

    .dim { color: var(--fg-dim); }
    .mid { color: var(--fg-mid); }

    /* ── gol hint ─────────────────────────── */
    #gol-hint {
      padding: 0 var(--gap);
      margin-bottom: 4px;
      color: var(--fg-dim);
      font-size: 11px;
    }

    /* ── gol strip ────────────────────────── */
    #gol-wrap { width: 100%; overflow: hidden; }

    #gol {
      display: block;
      margin: 0; padding: 0;
      font-family: 'IBM Plex Mono', 'Courier New', monospace;
      font-size: 13px;
      font-weight: 400;
      line-height: var(--lh);
      background: transparent;
      cursor: default;
      user-select: none;
      white-space: pre;
      overflow: hidden;
    }

    /* ── mobile ──────────────────────────── */
    @media (max-width: 900px) {
      main {
        grid-template-columns: 1fr 1fr;
        padding: var(--lh) 1ch;
      }
      main > div {
        border-left: none; padding-left: 0;
        border-top: 1px dashed #333;
        padding-top: var(--lh);
      }
      main > div:first-child { border-top: none; padding-top: 0; }
      #col-bio { grid-column: 1 / -1; }
    }
    @media (max-width: 500px) {
      main { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>

<main>

  <!-- col 1: name -->
  <div id="col-name">
    <span class="name-big">devesh khilnani<br><span class="age">18, m</span></span>
    <span class="label">//</span>
    <div class="item">
      <span class="item-name">founder</span>
      <span class="item-sub">xyla</span>
    </div>
  </div>

  <!-- col 2: bio -->
  <div id="col-bio">
    <span class="label">now</span>
    <p>
      <span>building <a href="https://xyla.space" target="_blank">xyla</a></span> —
      deployable off-grid biofactories for the frontlines.
    </p>
    <span class="label" style="margin-top: var(--lh);">also</span>
    <div class="item">
      <span class="item-name"><a href="https://velocity11.us/" target="_blank" class="mid">v11</a></span>
      <span class="item-sub">backing sci-fi</span>
    </div>
    <div class="item">
      <span class="item-name"><a href="https://ases.stanford.edu/" target="_blank" class="mid">ases nyc</a></span>
      <span class="item-sub">startup nights</span>
    </div>
    <div class="item">
      <span class="item-name"><a href="https://fr8.so" target="_blank" class="mid">fr8</a></span>
      <span class="item-sub">cohort 1.0 - deeptech residency</span>
    </div>
    <div class="item">
      <span class="item-name dim">tkd</span>
      <span class="item-sub">state competitor // instructor</span>
    </div>
  </div>

  <!-- col 3: origin -->
  <div id="col-origin">
    <span class="label">origin</span>
    <div class="item">
      <span class="item-sub">got lost in an indian airport<br>→ built ar/vr nav startup</span>
    </div>
    <div class="item">
      <span class="item-sub">moved to hardware<br>→ raised $500k for a bme lab</span>
    </div>
    <div class="item">
      <span class="item-sub">recruited at 16 for<br>artemis III nasa murep agri team</span>
    </div>
    <div class="item">
      <span class="item-sub">wrote my own proposal<br>→ nasa funded it<br>→ kept IP + left to build faster</span>
    </div>
  </div>

  <!-- col 4: priors -->
  <div id="col-assumptions">
    <span class="label">priors</span>
    <div class="item">
      <span class="item-sub">the future of engineering<br>looks a lot like the past<br>billion years of evolution</span>
    </div>
    <div class="item">
      <span class="item-sub">innovation outpaces<br>mortal instincts</span>
    </div>
    <div class="item">
      <span class="item-sub">food is the foundation<br>layer of civilization</span>
    </div>
  </div>

  <!-- col 5: contact -->
  <div id="col-contact">
    <span class="label">contact</span>
    <div class="item">
      <a href="https://x.com/dkilledhisnani" target="_blank" class="item-name">x / twitter</a>
    </div>
    <div class="item">
      <a href="https://linkedin.com/in/dkhilnani" target="_blank" class="item-name">linkedin</a>
    </div>
    <div class="item">
      <a href="mailto:devesh@xyla.space" class="item-name">devesh@xyla.space</a>
    </div>
    <div class="item" style="margin-top: var(--lh);">
      <span class="item-sub dim">vivitur ingenio,<br>caeteris mortis erunt</span>
    </div>
  </div>

</main>

<div id="gol-hint">// click + drag to interact</div>

<div id="gol-wrap">
  <pre id="gol"></pre>
</div>

<script type="module">

function measureChar(el) {
  const cs  = getComputedStyle(el)
  const fontSize   = parseFloat(cs.fontSize)
  const fontFamily = cs.fontFamily
  const lineHeight = parseFloat(cs.lineHeight)
  const canvas = document.createElement('canvas')
  const ctx = canvas.getContext('2d')
  ctx.font = `400 ${fontSize}px ${fontFamily}`
  const cellWidth = ctx.measureText('x').width
  return { cellWidth, lineHeight, fontSize, fontFamily }
}

let golCols = 0, golRows = 0
const golData = [null, null]
const pointer = { x: -1, y: -1, pressed: false }

function golSet(val, x, y, w, h, buf) {
  if (x < 0 || x >= w || y < 0 || y >= h) return
  buf[y * w + x] = val
}
function golGet(x, y, w, h, buf) {
  if (x < 0 || x >= w || y < 0 || y >= h) return 0
  return buf[y * w + x]
}

function golInit(cols, rows) {
  golCols = cols
  golRows = rows
  const len = cols * rows * 2
  golData[0] = new Uint8Array(len)
  golData[1] = new Uint8Array(len)
  for (let i = 0; i < len; i++) {
    const v = Math.random() > 0.5 ? 1 : 0
    golData[0][i] = v
    golData[1][i] = v
  }
}

function golStep(frame) {
  const prev = golData[ frame % 2]
  const curr = golData[(frame + 1) % 2]
  const w = golCols, h = golRows * 2

  if (pointer.pressed && pointer.x >= 0) {
    const cx = Math.floor(pointer.x)
    const cy = Math.floor(pointer.y * 2)
    const s  = 5
    for (let y = cy - s; y <= cy + s; y++) {
      for (let x = cx - s; x <= cx + s; x++) {
        const v = Math.random() < 0.5 ? 1 : 0
        golSet(v, x, y, w, h, prev)
        golSet(v, x, y, w, h, curr)
      }
    }
  }

  for (let y = 0; y < h; y++) {
    for (let x = 0; x < w; x++) {
      const cur = golGet(x, y, w, h, prev)
      const n =
        golGet(x-1,y-1,w,h,prev) + golGet(x,y-1,w,h,prev) + golGet(x+1,y-1,w,h,prev) +
        golGet(x-1,y,  w,h,prev) +                           golGet(x+1,y,  w,h,prev) +
        golGet(x-1,y+1,w,h,prev) + golGet(x,y+1,w,h,prev) + golGet(x+1,y+1,w,h,prev)
      curr[x + y * w] = cur ? (n === 2 || n === 3 ? 1 : 0) : (n === 3 ? 1 : 0)
    }
  }
}

const pre    = document.getElementById('gol')
const wrap   = document.getElementById('gol-wrap')
const mainEl = document.querySelector('main')

let cols = 0, rows = 0, frame = 0
let metrics = measureChar(pre)

pre.addEventListener('pointermove', e => {
  const r = pre.getBoundingClientRect()
  pointer.x = (e.clientX - r.left)  / metrics.cellWidth
  pointer.y = (e.clientY - r.top)   / metrics.lineHeight
  e.preventDefault()
})
pre.addEventListener('pointerdown', e => {
  pointer.pressed = true
  pre.setPointerCapture(e.pointerId)
  e.preventDefault()
})
pre.addEventListener('pointerup',    () => { pointer.pressed = false })
pre.addEventListener('pointerleave', () => { pointer.pressed = false })

function sizeWrap() {
  metrics = measureChar(pre)
  const hintEl     = document.getElementById('gol-hint')
  const hintBottom = hintEl.getBoundingClientRect().bottom
  const remaining  = Math.max(window.innerHeight - hintBottom - 4, 0)
  wrap.style.height = remaining + 'px'

  const newCols = Math.floor(wrap.clientWidth  / metrics.cellWidth)  || 1
  const newRows = Math.floor(remaining          / metrics.lineHeight) || 1

  if (newCols !== cols || newRows !== rows) {
    cols = newCols
    rows = newRows
    golInit(cols, rows)
  }
}

const COLORS = ['deeppink', 'red', 'orange', 'yellow', 'blue', 'deeppink']

function getColor(x, y, frame) {
  const wave = (x * 0.15 + y * 0.3 + frame * 0.08) % COLORS.length
  return COLORS[Math.floor(wave) % COLORS.length]
}

function render() {
  const curr = golData[(frame + 1) % 2]
  const lines = []
  for (let y = 0; y < rows; y++) {
    let spans = [], curColor = null, curChars = ''
    for (let x = 0; x < cols; x++) {
      const idx   = x + y * 2 * cols
      const upper = curr[idx]
      const lower = curr[idx + cols]
      const alive = upper || lower
      let ch
      if (upper && lower) ch = '█'
      else if (upper)     ch = '▀'
      else if (lower)     ch = '▄'
      else                ch = ' '
      const color = alive ? getColor(x, y, frame) : null
      if (color !== curColor) {
        if (curChars) spans.push(curColor ? `<span style="color:${curColor}">${curChars}</span>` : curChars)
        curColor = color; curChars = ch
      } else { curChars += ch }
    }
    if (curChars) spans.push(curColor ? `<span style="color:${curColor}">${curChars}</span>` : curChars)
    lines.push(spans.join(''))
  }
  pre.innerHTML = lines.join('\n')
}

const FPS = 15
let lastTime = 0

function loop(ts) {
  requestAnimationFrame(loop)
  if (ts - lastTime < 1000 / FPS) return
  lastTime = ts
  golStep(frame)
  render()
  frame++
}

document.fonts.ready.then(() => {
  sizeWrap()
  window.addEventListener('resize', sizeWrap)
  requestAnimationFrame(loop)
})

// ── link gradient underlines ──────────────────────────────────────────────────
const linkStyle = document.createElement('style')
linkStyle.textContent = `
  @keyframes linkHue {
    0%   { text-decoration-color: #ff1493; }
    25%  { text-decoration-color: #ff6600; }
    50%  { text-decoration-color: #ffcc00; }
    75%  { text-decoration-color: #4444ff; }
    100% { text-decoration-color: #ff1493; }
  }
  main a {
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: 3px;
    text-decoration-color: #ff1493;
    animation: linkHue 4s linear infinite;
  }
  main a:hover { color: #fff; text-decoration-thickness: 2px; }
`
document.head.appendChild(linkStyle)

// ── link burst ────────────────────────────────────────────────────────────────
function spawnLinkBurst(clientX, clientY) {
  let gW = 11, gH = 11
  let buf = [new Uint8Array(gW * gH), new Uint8Array(gW * gH)]
  const cx = Math.floor(gW / 2), cy = Math.floor(gH / 2)
  for (let dy = -5; dy <= 5; dy++) {
    for (let dx = -5; dx <= 5; dx++) {
      const v = Math.random() < 0.5 ? 1 : 0
      const i = (cy + dy) * gW + (cx + dx)
      if (i >= 0 && i < buf[0].length) { buf[0][i] = v; buf[1][i] = v }
    }
  }

  const el = document.createElement('pre')
  el.style.cssText = `
    position:fixed;pointer-events:none;z-index:999;
    font-family:'IBM Plex Mono','Courier New',monospace;
    font-size:9px;font-weight:400;line-height:11px;
    background:transparent;margin:0;padding:0;white-space:pre;
  `
  document.body.appendChild(el)

  let f = 0, last = 0, done = false
  const MAX_FRAMES = 30

  function step(ts) {
    if (done) return
    if (ts - last < 1000 / FPS) { requestAnimationFrame(step); return }
    last = ts

    if (f % 2 === 0 && gW < 28) {
      const nW = gW + 2, nH = gH + 2
      const nb0 = new Uint8Array(nW * nH), nb1 = new Uint8Array(nW * nH)
      for (let y = 0; y < gH; y++) for (let x = 0; x < gW; x++) {
        nb0[(y+1)*nW+(x+1)] = buf[f%2][y*gW+x]
        nb1[(y+1)*nW+(x+1)] = buf[(f+1)%2][y*gW+x]
      }
      gW = nW; gH = nH; buf[0] = nb0; buf[1] = nb1
    }

    const prev = buf[f%2], curr = buf[(f+1)%2]
    for (let y = 0; y < gH; y++) for (let x = 0; x < gW; x++) {
      const c = prev[y*gW+x]
      let n = 0
      for (let dy=-1;dy<=1;dy++) for (let dx=-1;dx<=1;dx++) {
        if (dx===0&&dy===0) continue
        const nx=x+dx,ny=y+dy
        if (nx>=0&&nx<gW&&ny>=0&&ny<gH) n+=prev[ny*gW+nx]
      }
      curr[y*gW+x] = c?(n===2||n===3?1:0):(n===3?1:0)
    }

    let alive = 0
    for (let i = 0; i < curr.length; i++) alive += curr[i]

    const lines = []
    for (let y = 0; y < gH; y++) {
      let line = ''
      for (let x = 0; x < gW; x++) line += curr[y*gW+x] ? '█' : ' '
      lines.push(line)
    }
    el.textContent = lines.join('\n')
    el.style.color   = COLORS[Math.floor(f * 0.4) % COLORS.length]
    el.style.left    = (clientX - gW * 5.4 / 2) + 'px'
    el.style.top     = (clientY - gH * 11  / 2) + 'px'
    el.style.opacity = f/MAX_FRAMES > 0.6 ? Math.max(0, 1-(f/MAX_FRAMES-0.6)/0.4) : '1'
    f++

    if (alive === 0 || f >= MAX_FRAMES) {
      done = true; el.style.opacity = '0'
      setTimeout(() => el.remove(), 400)
    } else { requestAnimationFrame(step) }
  }
  requestAnimationFrame(step)
}

document.querySelectorAll('a[href]').forEach(a => {
  a.addEventListener('click', e => {
    e.preventDefault()
    const rect = a.getBoundingClientRect()
    spawnLinkBurst(rect.left + rect.width / 2, rect.top + rect.height / 2)
    const href = a.href, target = a.target
    if (href.startsWith('mailto')) window.location.href = href
    else if (target === '_blank') window.open(href, '_blank')
    else window.location.href = href
  })
})
</script>
</body>
</html>
